{
  "timestamp": "2025-10-24T17:02:00.341684Z",
  "pipeline_tests": [
    {
      "input": "Làm thế nào để nấu phở bò ngon? Cho tôi công thức nhé.",
      "output": {
        "status": "success",
        "dish": {
          "name": "phở bò",
          "prep_time": null,
          "servings": null
        },
        "cart": {
          "total_items": 13,
          "items": [
            {
              "ingredient_id": "ingre05872",
              "name_vi": "Sườn bò",
              "quantity": 1.0,
              "unit": "kg",
              "converted_quantity": "1000",
              "converted_unit": "g",
              "category": "fresh_meat"
            },
            {
              "ingredient_id": "ingre00139",
              "name_vi": "Bánh phở",
              "quantity": 1.0,
              "unit": "kg",
              "converted_quantity": "1000",
              "converted_unit": "g",
              "category": "grains_staples"
            },
            {
              "ingredient_id": "ingre02758",
              "name_vi": "Hành tây lớn",
              "quantity": 1.0,
              "unit": "củ",
              "converted_quantity": "100",
              "converted_unit": "g",
              "category": "vegetables"
            },
            {
              "ingredient_id": "ingre02427",
              "name_vi": "Gừng",
              "quantity": 2.0,
              "unit": "củ",
              "converted_quantity": "160",
              "converted_unit": "g",
              "category": "vegetables"
            },
            {
              "ingredient_id": "ingre06911",
              "name_vi": "Táo đỏ",
              "quantity": 50.0,
              "unit": "gr",
              "converted_quantity": "50.0",
              "converted_unit": "g",
              "category": "fresh_fruits"
            },
            {
              "ingredient_id": "ingre02673",
              "name_vi": "Hành lá",
              "quantity": 5.0,
              "unit": "nhánh",
              "converted_quantity": "5.0",
              "converted_unit": "nhánh",
              "category": "vegetables"
            },
            {
              "ingredient_id": "ingre04343",
              "name_vi": "Ngò rí",
              "quantity": 3.0,
              "unit": "nhánh",
              "converted_quantity": "3.0",
              "converted_unit": "nhánh",
              "category": "vegetables"
            },
            {
              "ingredient_id": "ingre05420",
              "name_vi": "Rau ăn kèm",
              "quantity": 1.0,
              "unit": "ít",
              "converted_quantity": "1.0",
              "converted_unit": "g",
              "category": "vegetables"
            },
            {
              "ingredient_id": "ingre07583",
              "name_vi": "Đường",
              "quantity": 1.0,
              "unit": "ít",
              "converted_quantity": "1.0",
              "converted_unit": "g",
              "category": "seasonings"
            },
            {
              "ingredient_id": "ingre02535",
              "name_vi": "Hạt nêm",
              "quantity": 1.0,
              "unit": "ít",
              "converted_quantity": "1.0",
              "converted_unit": "g",
              "category": "seasonings"
            },
            {
              "ingredient_id": "ingre03735",
              "name_vi": "Muối",
              "quantity": 1.0,
              "unit": "ít",
              "converted_quantity": "1.0",
              "converted_unit": "g",
              "category": "seasonings"
            },
            {
              "ingredient_id": "ingre06612",
              "name_vi": "Tiêu",
              "quantity": 1.0,
              "unit": "ít",
              "converted_quantity": "1.0",
              "converted_unit": "g",
              "category": "seasonings"
            },
            {
              "ingredient_id": "ingre00497",
              "name_vi": "Bột ngọt",
              "quantity": 1.0,
              "unit": "ít",
              "converted_quantity": "1.0",
              "converted_unit": "g",
              "category": "others"
            }
          ]
        },
        "suggestions": [
          {
            "ingredient_id": "ingre05232",
            "name_vi": "rau cải ngọt",
            "quantity": "",
            "unit": "",
            "score": 1.0,
            "reason": "Phù hợp với món & chưa có trong giỏ",
            "converted_quantity": "",
            "converted_unit": "tùy thích"
          },
          {
            "ingredient_id": "ingre02307",
            "name_vi": "gia vị nấu phở nêm sẵn",
            "quantity": "",
            "unit": "",
            "score": 0.99,
            "reason": "Phù hợp với món & chưa có trong giỏ",
            "converted_quantity": "",
            "converted_unit": "tùy thích"
          },
          {
            "ingredient_id": "ingre06397",
            "name_vi": "thịt gầu bò",
            "quantity": "",
            "unit": "",
            "score": 0.93,
            "reason": "Phù hợp với món & chưa có trong giỏ",
            "converted_quantity": "",
            "converted_unit": "tùy thích"
          },
          {
            "ingredient_id": "ingre07119",
            "name_vi": "tỏi ớt băm nhuyễn",
            "quantity": "",
            "unit": "",
            "score": 0.92,
            "reason": "Phù hợp với món & chưa có trong giỏ",
            "converted_quantity": "",
            "converted_unit": "tùy thích"
          },
          {
            "ingredient_id": "ingre01673",
            "name_vi": "các loại rau thơm",
            "quantity": "",
            "unit": "",
            "score": 0.88,
            "reason": "Phù hợp với món & chưa có trong giỏ",
            "converted_quantity": "",
            "converted_unit": "tùy thích"
          }
        ],
        "similar_dishes": [
          {
            "dish_id": "dish3327",
            "dish_name": "Phở sườn bò",
            "match_count": 9,
            "match_ratio": 0.6923076923076923,
            "weighted_score": 0.8,
            "matched_roles": [
              "core_produce",
              "core_protein",
              "core_staple",
              "flavor_enhancer"
            ],
            "required_roles": [
              "core_produce",
              "core_protein",
              "core_staple"
            ],
            "role_coverage": 1.0
          },
          {
            "dish_id": "dish5856",
            "dish_name": "Da heo kho tiêu",
            "match_count": 3,
            "match_ratio": 0.6,
            "weighted_score": 0.4444444444444444,
            "matched_roles": [
              "core_produce",
              "flavor_enhancer"
            ],
            "required_roles": [
              "core_produce",
              "core_protein"
            ],
            "role_coverage": 0.5
          },
          {
            "dish_id": "dish8589",
            "dish_name": "Cháo sườn bò",
            "match_count": 5,
            "match_ratio": 0.45454545454545453,
            "weighted_score": 0.42857142857142855,
            "matched_roles": [
              "core_produce",
              "core_protein",
              "flavor_enhancer"
            ],
            "required_roles": [
              "core_produce",
              "core_protein",
              "core_staple"
            ],
            "role_coverage": 0.6666666666666666
          }
        ],
        "warnings": [],
        "insights": [],
        "assistant_response": "",
        "guardrail": {
          "triggered": false,
          "action": "allow",
          "violation_count": 0,
          "violation_codes": [],
          "timestamp": "2025-10-24T17:01:49.221361Z",
          "request_id": "56c829c6-eaa8-4eb1-bdd6-3bae14ae89af"
        }
      }
    }
  ],
  "guardrail_tests": []
}