{
  "timestamp": "2025-10-24T08:44:52.336018Z",
  "pipeline_tests": [
    {
      "input": "Tôi muốn nấu món thịt kho tàu.",
      "output": {
        "status": "success",
        "dish": {
          "name": "thịt kho tàu",
          "prep_time": null,
          "servings": null
        },
        "cart": {
          "total_items": 11,
          "items": [
            {
              "ingredient_id": "ingre06272",
              "name_vi": "Thị ba chỉ",
              "quantity": 300.0,
              "unit": "gr",
              "converted_quantity": "300.0",
              "converted_unit": "g",
              "category": "fresh_meat"
            },
            {
              "ingredient_id": "ingre06816",
              "name_vi": "Trứng cút",
              "quantity": 20.0,
              "unit": "quả",
              "converted_quantity": "20.0",
              "converted_unit": "quả",
              "category": "snacks"
            },
            {
              "ingredient_id": "ingre02673",
              "name_vi": "Hành lá",
              "quantity": 1.0,
              "unit": "nhánh",
              "converted_quantity": "1.0",
              "converted_unit": "nhánh",
              "category": "vegetables"
            },
            {
              "ingredient_id": "ingre08053",
              "name_vi": "Ớt sừng",
              "quantity": 1.0,
              "unit": "quả",
              "converted_quantity": "1.0",
              "converted_unit": "quả",
              "category": "seasonings"
            },
            {
              "ingredient_id": "ingre02316",
              "name_vi": "Gia vị thịt kho",
              "quantity": 1.0,
              "unit": "gói",
              "converted_quantity": "1.0",
              "converted_unit": "gói",
              "category": "seasonings"
            },
            {
              "ingredient_id": "ingre04687",
              "name_vi": "Nước mắm",
              "quantity": 1.0,
              "unit": "muỗng cà phê",
              "converted_quantity": "5",
              "converted_unit": "ml",
              "category": "others"
            },
            {
              "ingredient_id": "ingre04636",
              "name_vi": "Nước hàng",
              "quantity": 1.0,
              "unit": "muỗng cà phê",
              "converted_quantity": "5",
              "converted_unit": "ml",
              "category": "others"
            },
            {
              "ingredient_id": "ingre00497",
              "name_vi": "Bột ngọt",
              "quantity": 1.0,
              "unit": "ít",
              "converted_quantity": "1.0",
              "converted_unit": "g",
              "category": "others"
            },
            {
              "ingredient_id": "ingre06644",
              "name_vi": "Tiêu xay",
              "quantity": 1.0,
              "unit": "ít",
              "converted_quantity": "1.0",
              "converted_unit": "g",
              "category": "seasonings"
            },
            {
              "ingredient_id": "ingre03735",
              "name_vi": "Muối",
              "quantity": 1.0,
              "unit": "ít",
              "converted_quantity": "1.0",
              "converted_unit": "g",
              "category": "seasonings"
            },
            {
              "ingredient_id": "ingre01972",
              "name_vi": "Dầu ăn",
              "quantity": 1.0,
              "unit": "ít",
              "converted_quantity": "1.0",
              "converted_unit": "ml",
              "category": "fresh_fruits"
            }
          ]
        },
        "suggestions": [
          {
            "ingredient_id": "ingre06663",
            "name_vi": "tiêu/hạt nêm",
            "quantity": "",
            "unit": "",
            "score": 0.9,
            "reason": "Phù hợp với món & chưa có trong giỏ",
            "converted_quantity": "",
            "converted_unit": "tùy thích"
          },
          {
            "ingredient_id": "ingre02852",
            "name_vi": "hánh tím",
            "quantity": "",
            "unit": "",
            "score": 0.89,
            "reason": "Phù hợp với món & chưa có trong giỏ",
            "converted_quantity": "",
            "converted_unit": "tùy thích"
          },
          {
            "ingredient_id": "ingre06308",
            "name_vi": "thịt bò dẻ sườn",
            "quantity": "",
            "unit": "",
            "score": 0.85,
            "reason": "Phù hợp với món & chưa có trong giỏ",
            "converted_quantity": "",
            "converted_unit": "tùy thích"
          },
          {
            "ingredient_id": "ingre05359",
            "name_vi": "rau răm",
            "quantity": "",
            "unit": "",
            "score": 0.85,
            "reason": "Phù hợp với món & chưa có trong giỏ",
            "converted_quantity": "",
            "converted_unit": "tùy thích"
          },
          {
            "ingredient_id": "ingre06446",
            "name_vi": "thịt mỡ heo",
            "quantity": "",
            "unit": "",
            "score": 0.83,
            "reason": "Phù hợp với món & chưa có trong giỏ",
            "converted_quantity": "",
            "converted_unit": "tùy thích"
          }
        ],
        "similar_dishes": [
          {
            "dish_id": "dish6053",
            "dish_name": "Thịt kho tàu trứng cút",
            "match_count": 6,
            "match_ratio": 0.5454545454545454,
            "weighted_score": 0.6666666666666666,
            "matched_roles": [
              "core_produce",
              "core_protein",
              "flavor_enhancer"
            ],
            "required_roles": [
              "core_produce",
              "core_protein"
            ],
            "role_coverage": 1.0
          },
          {
            "dish_id": "dish6067",
            "dish_name": "Cá rô kho tiêu",
            "match_count": 3,
            "match_ratio": 0.3,
            "weighted_score": 0.3,
            "matched_roles": [
              "core_produce",
              "flavor_enhancer"
            ],
            "required_roles": [
              "core_produce",
              "core_protein"
            ],
            "role_coverage": 0.5
          },
          {
            "dish_id": "dish6647",
            "dish_name": "Cơm nguội bọc trứng cút chiên",
            "match_count": 3,
            "match_ratio": 0.3333333333333333,
            "weighted_score": 0.29411764705882354,
            "matched_roles": [
              "core_produce",
              "flavor_enhancer"
            ],
            "required_roles": [
              "core_produce",
              "core_staple"
            ],
            "role_coverage": 0.5
          }
        ],
        "warnings": [],
        "insights": [],
        "assistant_response": "",
        "guardrail": {
          "enabled": false,
          "action": "allow",
          "violations": [],
          "timestamp": "2025-10-24T08:44:26.663033Z",
          "request_id": "ce419bb1-ee3f-4450-b623-861f7a2bb528"
        }
      }
    },
    {
      "input": "Toi muon nau mon thit kho tau.",
      "output": {
        "status": "success",
        "dish": {
          "name": "thịt kho tàu",
          "prep_time": null,
          "servings": null
        },
        "cart": {
          "total_items": 12,
          "items": [
            {
              "ingredient_id": "ingre06289",
              "name_vi": "Thịt ba rọi",
              "quantity": 500.0,
              "unit": "gr",
              "converted_quantity": "500.0",
              "converted_unit": "g",
              "category": "fresh_meat"
            },
            {
              "ingredient_id": "ingre04626",
              "name_vi": "Nước dừa tươi",
              "quantity": 200.0,
              "unit": "ml",
              "converted_quantity": "200",
              "converted_unit": "ml",
              "category": "beverages"
            },
            {
              "ingredient_id": "ingre06853",
              "name_vi": "Trứng vịt",
              "quantity": 6.0,
              "unit": "quả",
              "converted_quantity": "6.0",
              "converted_unit": "quả",
              "category": "fresh_meat"
            },
            {
              "ingredient_id": "ingre07071",
              "name_vi": "Tỏi băm",
              "quantity": 1.0,
              "unit": "muỗng canh",
              "converted_quantity": "15",
              "converted_unit": "ml",
              "category": "seasonings"
            },
            {
              "ingredient_id": "ingre02739",
              "name_vi": "Hành tím băm",
              "quantity": 2.0,
              "unit": "muỗng canh",
              "converted_quantity": "30",
              "converted_unit": "ml",
              "category": "seasonings"
            },
            {
              "ingredient_id": "ingre07966",
              "name_vi": "Ớt",
              "quantity": 3.0,
              "unit": "quả",
              "converted_quantity": "3.0",
              "converted_unit": "quả",
              "category": "seasonings"
            },
            {
              "ingredient_id": "ingre05515",
              "name_vi": "Rượu",
              "quantity": 1.0,
              "unit": "muỗng canh",
              "converted_quantity": "15",
              "converted_unit": "ml",
              "category": "alcoholic_beverages"
            },
            {
              "ingredient_id": "ingre04687",
              "name_vi": "Nước mắm",
              "quantity": 2.0,
              "unit": "muỗng canh",
              "converted_quantity": "30",
              "converted_unit": "ml",
              "category": "others"
            },
            {
              "ingredient_id": "ingre03735",
              "name_vi": "Muối",
              "quantity": 1.0,
              "unit": "ít",
              "converted_quantity": "1.0",
              "converted_unit": "g",
              "category": "seasonings"
            },
            {
              "ingredient_id": "ingre07583",
              "name_vi": "Đường",
              "quantity": 1.0,
              "unit": "ít",
              "converted_quantity": "1.0",
              "converted_unit": "g",
              "category": "seasonings"
            },
            {
              "ingredient_id": "ingre02535",
              "name_vi": "Hạt nêm",
              "quantity": 1.0,
              "unit": "ít",
              "converted_quantity": "1.0",
              "converted_unit": "g",
              "category": "seasonings"
            },
            {
              "ingredient_id": "ingre06612",
              "name_vi": "Tiêu",
              "quantity": 1.0,
              "unit": "ít",
              "converted_quantity": "1.0",
              "converted_unit": "g",
              "category": "seasonings"
            }
          ]
        },
        "suggestions": [
          {
            "ingredient_id": "ingre06630",
            "name_vi": "tiêu sọ hột",
            "quantity": "",
            "unit": "",
            "score": 1.15,
            "reason": "Phù hợp với món & chưa có trong giỏ",
            "converted_quantity": "",
            "converted_unit": "tùy thích"
          },
          {
            "ingredient_id": "ingre02713",
            "name_vi": "hành lá/ ớt",
            "quantity": "",
            "unit": "",
            "score": 1.05,
            "reason": "Phù hợp với món & chưa có trong giỏ",
            "converted_quantity": "",
            "converted_unit": "tùy thích"
          },
          {
            "ingredient_id": "ingre04142",
            "name_vi": "mắm cá linh",
            "quantity": "",
            "unit": "",
            "score": 1.03,
            "reason": "Phù hợp với món & chưa có trong giỏ",
            "converted_quantity": "",
            "converted_unit": "tùy thích"
          },
          {
            "ingredient_id": "ingre04143",
            "name_vi": "mắm cá lóc",
            "quantity": "",
            "unit": "",
            "score": 1.02,
            "reason": "Phù hợp với món & chưa có trong giỏ",
            "converted_quantity": "",
            "converted_unit": "tùy thích"
          },
          {
            "ingredient_id": "ingre04732",
            "name_vi": "nước ngâm mắm",
            "quantity": "",
            "unit": "",
            "score": 1.02,
            "reason": "Phù hợp với món & chưa có trong giỏ",
            "converted_quantity": "",
            "converted_unit": "tùy thích"
          }
        ],
        "similar_dishes": [
          {
            "dish_id": "dish6036",
            "dish_name": "Thịt kho tàu bằng nồi áp suất",
            "match_count": 8,
            "match_ratio": 0.6666666666666666,
            "weighted_score": 0.7391304347826086,
            "matched_roles": [
              "core_protein",
              "flavor_enhancer"
            ],
            "required_roles": [
              "core_protein"
            ],
            "role_coverage": 1.0
          },
          {
            "dish_id": "dish6212",
            "dish_name": "Thịt kho Tàu miền Nam",
            "match_count": 4,
            "match_ratio": 0.4444444444444444,
            "weighted_score": 0.47058823529411764,
            "matched_roles": [
              "core_protein",
              "flavor_enhancer"
            ],
            "required_roles": [
              "core_protein"
            ],
            "role_coverage": 1.0
          },
          {
            "dish_id": "dish5630",
            "dish_name": "Thịt kho tàu miền Bắc",
            "match_count": 3,
            "match_ratio": 0.375,
            "weighted_score": 0.4,
            "matched_roles": [
              "core_protein",
              "flavor_enhancer"
            ],
            "required_roles": [
              "core_protein"
            ],
            "role_coverage": 1.0
          }
        ],
        "warnings": [],
        "insights": [],
        "assistant_response": "",
        "guardrail": {
          "enabled": false,
          "action": "allow",
          "violations": [],
          "timestamp": "2025-10-24T08:44:41.919084Z",
          "request_id": "1138a8b2-92c3-477b-95ab-17b7fc7b3a57"
        }
      }
    }
  ],
  "guardrail_tests": []
}