{
  "timestamp": "2025-10-24T12:44:18.659190Z",
  "pipeline_tests": [
    {
      "input": "Tôi muốn nấu món thịt kho tàu.",
      "output": {
        "status": "success",
        "dish": {
          "name": "thịt kho tàu",
          "prep_time": null,
          "servings": null
        },
        "cart": {
          "total_items": 12,
          "items": [
            {
              "ingredient_id": "ingre06289",
              "name_vi": "Thịt ba rọi",
              "quantity": 500.0,
              "unit": "gr",
              "converted_quantity": "500.0",
              "converted_unit": "g",
              "category": "fresh_meat"
            },
            {
              "ingredient_id": "ingre04626",
              "name_vi": "Nước dừa tươi",
              "quantity": 200.0,
              "unit": "ml",
              "converted_quantity": "200",
              "converted_unit": "ml",
              "category": "beverages"
            },
            {
              "ingredient_id": "ingre06853",
              "name_vi": "Trứng vịt",
              "quantity": 6.0,
              "unit": "quả",
              "converted_quantity": "6.0",
              "converted_unit": "quả",
              "category": "fresh_meat"
            },
            {
              "ingredient_id": "ingre07071",
              "name_vi": "Tỏi băm",
              "quantity": 1.0,
              "unit": "muỗng canh",
              "converted_quantity": "15",
              "converted_unit": "ml",
              "category": "seasonings"
            },
            {
              "ingredient_id": "ingre02739",
              "name_vi": "Hành tím băm",
              "quantity": 2.0,
              "unit": "muỗng canh",
              "converted_quantity": "30",
              "converted_unit": "ml",
              "category": "seasonings"
            },
            {
              "ingredient_id": "ingre07966",
              "name_vi": "Ớt",
              "quantity": 3.0,
              "unit": "quả",
              "converted_quantity": "3.0",
              "converted_unit": "quả",
              "category": "seasonings"
            },
            {
              "ingredient_id": "ingre05515",
              "name_vi": "Rượu",
              "quantity": 1.0,
              "unit": "muỗng canh",
              "converted_quantity": "15",
              "converted_unit": "ml",
              "category": "alcoholic_beverages"
            },
            {
              "ingredient_id": "ingre04687",
              "name_vi": "Nước mắm",
              "quantity": 2.0,
              "unit": "muỗng canh",
              "converted_quantity": "30",
              "converted_unit": "ml",
              "category": "others"
            },
            {
              "ingredient_id": "ingre03735",
              "name_vi": "Muối",
              "quantity": 1.0,
              "unit": "ít",
              "converted_quantity": "1.0",
              "converted_unit": "g",
              "category": "seasonings"
            },
            {
              "ingredient_id": "ingre07583",
              "name_vi": "Đường",
              "quantity": 1.0,
              "unit": "ít",
              "converted_quantity": "1.0",
              "converted_unit": "g",
              "category": "seasonings"
            },
            {
              "ingredient_id": "ingre02535",
              "name_vi": "Hạt nêm",
              "quantity": 1.0,
              "unit": "ít",
              "converted_quantity": "1.0",
              "converted_unit": "g",
              "category": "seasonings"
            },
            {
              "ingredient_id": "ingre06612",
              "name_vi": "Tiêu",
              "quantity": 1.0,
              "unit": "ít",
              "converted_quantity": "1.0",
              "converted_unit": "g",
              "category": "seasonings"
            }
          ]
        },
        "suggestions": [
          {
            "ingredient_id": "ingre06630",
            "name_vi": "tiêu sọ hột",
            "quantity": "",
            "unit": "",
            "score": 1.15,
            "reason": "Phù hợp với món & chưa có trong giỏ",
            "converted_quantity": "",
            "converted_unit": "tùy thích"
          },
          {
            "ingredient_id": "ingre02713",
            "name_vi": "hành lá/ ớt",
            "quantity": "",
            "unit": "",
            "score": 1.05,
            "reason": "Phù hợp với món & chưa có trong giỏ",
            "converted_quantity": "",
            "converted_unit": "tùy thích"
          },
          {
            "ingredient_id": "ingre04142",
            "name_vi": "mắm cá linh",
            "quantity": "",
            "unit": "",
            "score": 1.03,
            "reason": "Phù hợp với món & chưa có trong giỏ",
            "converted_quantity": "",
            "converted_unit": "tùy thích"
          },
          {
            "ingredient_id": "ingre04143",
            "name_vi": "mắm cá lóc",
            "quantity": "",
            "unit": "",
            "score": 1.02,
            "reason": "Phù hợp với món & chưa có trong giỏ",
            "converted_quantity": "",
            "converted_unit": "tùy thích"
          },
          {
            "ingredient_id": "ingre04732",
            "name_vi": "nước ngâm mắm",
            "quantity": "",
            "unit": "",
            "score": 1.02,
            "reason": "Phù hợp với món & chưa có trong giỏ",
            "converted_quantity": "",
            "converted_unit": "tùy thích"
          }
        ],
        "similar_dishes": [
          {
            "dish_id": "dish6036",
            "dish_name": "Thịt kho tàu bằng nồi áp suất",
            "match_count": 8,
            "match_ratio": 0.6666666666666666,
            "weighted_score": 0.7391304347826086,
            "matched_roles": [
              "core_protein",
              "flavor_enhancer"
            ],
            "required_roles": [
              "core_protein"
            ],
            "role_coverage": 1.0
          },
          {
            "dish_id": "dish6212",
            "dish_name": "Thịt kho Tàu miền Nam",
            "match_count": 4,
            "match_ratio": 0.4444444444444444,
            "weighted_score": 0.47058823529411764,
            "matched_roles": [
              "core_protein",
              "flavor_enhancer"
            ],
            "required_roles": [
              "core_protein"
            ],
            "role_coverage": 1.0
          },
          {
            "dish_id": "dish5630",
            "dish_name": "Thịt kho tàu miền Bắc",
            "match_count": 3,
            "match_ratio": 0.375,
            "weighted_score": 0.4,
            "matched_roles": [
              "core_protein",
              "flavor_enhancer"
            ],
            "required_roles": [
              "core_protein"
            ],
            "role_coverage": 1.0
          }
        ],
        "warnings": [],
        "insights": [],
        "assistant_response": "",
        "guardrail": {
          "triggered": false,
          "action": "allow",
          "violation_count": 0,
          "violation_codes": [],
          "timestamp": "2025-10-24T12:43:16.200605Z",
          "request_id": "f76613f3-839b-4775-b025-84a9f6659e0d"
        }
      }
    },
    {
      "input": "Toi muon nau mon pho bo.",
      "output": {
        "status": "success",
        "dish": {
          "name": "phở bò",
          "prep_time": null,
          "servings": null
        },
        "cart": {
          "total_items": 13,
          "items": [
            {
              "ingredient_id": "ingre05872",
              "name_vi": "Sườn bò",
              "quantity": 1.0,
              "unit": "kg",
              "converted_quantity": "1000",
              "converted_unit": "g",
              "category": "fresh_meat"
            },
            {
              "ingredient_id": "ingre00139",
              "name_vi": "Bánh phở",
              "quantity": 1.0,
              "unit": "kg",
              "converted_quantity": "1000",
              "converted_unit": "g",
              "category": "grains_staples"
            },
            {
              "ingredient_id": "ingre02758",
              "name_vi": "Hành tây lớn",
              "quantity": 1.0,
              "unit": "củ",
              "converted_quantity": "100",
              "converted_unit": "g",
              "category": "vegetables"
            },
            {
              "ingredient_id": "ingre02427",
              "name_vi": "Gừng",
              "quantity": 2.0,
              "unit": "củ",
              "converted_quantity": "160",
              "converted_unit": "g",
              "category": "vegetables"
            },
            {
              "ingredient_id": "ingre06911",
              "name_vi": "Táo đỏ",
              "quantity": 50.0,
              "unit": "gr",
              "converted_quantity": "50.0",
              "converted_unit": "g",
              "category": "fresh_fruits"
            },
            {
              "ingredient_id": "ingre02673",
              "name_vi": "Hành lá",
              "quantity": 5.0,
              "unit": "nhánh",
              "converted_quantity": "5.0",
              "converted_unit": "nhánh",
              "category": "vegetables"
            },
            {
              "ingredient_id": "ingre04343",
              "name_vi": "Ngò rí",
              "quantity": 3.0,
              "unit": "nhánh",
              "converted_quantity": "3.0",
              "converted_unit": "nhánh",
              "category": "vegetables"
            },
            {
              "ingredient_id": "ingre05420",
              "name_vi": "Rau ăn kèm",
              "quantity": 1.0,
              "unit": "ít",
              "converted_quantity": "1.0",
              "converted_unit": "g",
              "category": "vegetables"
            },
            {
              "ingredient_id": "ingre07583",
              "name_vi": "Đường",
              "quantity": 1.0,
              "unit": "ít",
              "converted_quantity": "1.0",
              "converted_unit": "g",
              "category": "seasonings"
            },
            {
              "ingredient_id": "ingre02535",
              "name_vi": "Hạt nêm",
              "quantity": 1.0,
              "unit": "ít",
              "converted_quantity": "1.0",
              "converted_unit": "g",
              "category": "seasonings"
            },
            {
              "ingredient_id": "ingre03735",
              "name_vi": "Muối",
              "quantity": 1.0,
              "unit": "ít",
              "converted_quantity": "1.0",
              "converted_unit": "g",
              "category": "seasonings"
            },
            {
              "ingredient_id": "ingre06612",
              "name_vi": "Tiêu",
              "quantity": 1.0,
              "unit": "ít",
              "converted_quantity": "1.0",
              "converted_unit": "g",
              "category": "seasonings"
            },
            {
              "ingredient_id": "ingre00497",
              "name_vi": "Bột ngọt",
              "quantity": 1.0,
              "unit": "ít",
              "converted_quantity": "1.0",
              "converted_unit": "g",
              "category": "others"
            }
          ]
        },
        "suggestions": [
          {
            "ingredient_id": "ingre05232",
            "name_vi": "rau cải ngọt",
            "quantity": "",
            "unit": "",
            "score": 1.0,
            "reason": "Phù hợp với món & chưa có trong giỏ",
            "converted_quantity": "",
            "converted_unit": "tùy thích"
          },
          {
            "ingredient_id": "ingre02307",
            "name_vi": "gia vị nấu phở nêm sẵn",
            "quantity": "",
            "unit": "",
            "score": 0.99,
            "reason": "Phù hợp với món & chưa có trong giỏ",
            "converted_quantity": "",
            "converted_unit": "tùy thích"
          },
          {
            "ingredient_id": "ingre06397",
            "name_vi": "thịt gầu bò",
            "quantity": "",
            "unit": "",
            "score": 0.93,
            "reason": "Phù hợp với món & chưa có trong giỏ",
            "converted_quantity": "",
            "converted_unit": "tùy thích"
          },
          {
            "ingredient_id": "ingre07119",
            "name_vi": "tỏi ớt băm nhuyễn",
            "quantity": "",
            "unit": "",
            "score": 0.92,
            "reason": "Phù hợp với món & chưa có trong giỏ",
            "converted_quantity": "",
            "converted_unit": "tùy thích"
          },
          {
            "ingredient_id": "ingre01673",
            "name_vi": "các loại rau thơm",
            "quantity": "",
            "unit": "",
            "score": 0.88,
            "reason": "Phù hợp với món & chưa có trong giỏ",
            "converted_quantity": "",
            "converted_unit": "tùy thích"
          }
        ],
        "similar_dishes": [
          {
            "dish_id": "dish3327",
            "dish_name": "Phở sườn bò",
            "match_count": 9,
            "match_ratio": 0.6923076923076923,
            "weighted_score": 0.8,
            "matched_roles": [
              "core_produce",
              "core_protein",
              "core_staple",
              "flavor_enhancer"
            ],
            "required_roles": [
              "core_produce",
              "core_protein",
              "core_staple"
            ],
            "role_coverage": 1.0
          },
          {
            "dish_id": "dish5856",
            "dish_name": "Da heo kho tiêu",
            "match_count": 3,
            "match_ratio": 0.6,
            "weighted_score": 0.4444444444444444,
            "matched_roles": [
              "core_produce",
              "flavor_enhancer"
            ],
            "required_roles": [
              "core_produce",
              "core_protein"
            ],
            "role_coverage": 0.5
          },
          {
            "dish_id": "dish8589",
            "dish_name": "Cháo sườn bò",
            "match_count": 5,
            "match_ratio": 0.45454545454545453,
            "weighted_score": 0.42857142857142855,
            "matched_roles": [
              "core_produce",
              "core_protein",
              "flavor_enhancer"
            ],
            "required_roles": [
              "core_produce",
              "core_protein",
              "core_staple"
            ],
            "role_coverage": 0.6666666666666666
          }
        ],
        "warnings": [],
        "insights": [],
        "assistant_response": "",
        "guardrail": {
          "triggered": false,
          "action": "allow",
          "violation_count": 0,
          "violation_codes": [],
          "timestamp": "2025-10-24T12:44:07.624560Z",
          "request_id": "bb9bb163-9d38-43a4-a902-745f208d9699"
        }
      }
    }
  ],
  "guardrail_tests": []
}